InventoryScreen As screen:
    Fill: =Color.White
    LoadingSpinnerColor: =App.Theme.Colors.Primary
    OnVisible: |
        =ClearCollect(
            varCurrentInventoryTab,
            {
                id: 1,
                name: "Supplies"
            },
            {
                id: 2,
                name: "Notes & Images"
            }
        );
        Reset(txtNotes);
        Set(varCheckBox,true);
        Set(varCheckBox,false);
        Set(varCapuredCamera,Blank());
        Set(showImageUpload,false);
        Set(varOpenViewImage,false);
        Set(varSupplieImage,Blank());
        Set(varSelectedItemImage,Blank());
        Set(varSelectedItem,Blank());
        Set(
            previousNote,
            Blank()
        );
        Set(
            varCurrentSelectedInventoryTab,
            1
        );
        Set(
            todayVisitInfo,
            Blank()
        );
        Set(
            previousPatientItems,
            Blank()
        );
        Set(
            previousNote,
            LookUp(
                PatientVisits,
                Title = selectedItem.Title && VisitDate = YesterdayDate
            )
        );
        Set(
            todayVisitInfo,
            LookUp(
                PatientVisits,
                Title = selectedItem.Title && VisitDate = todayDate
            )
        );
        Set(
            previousPatientItems,
            Filter(
                PatientItems,
                Title = selectedItem.Title && VisitDate = YesterdayDate
            )
        );

    InventoryContainerView As groupContainer.verticalAutoLayoutContainer:
        DropShadow: =DropShadow.Light
        Height: =Parent.Height
        LayoutDirection: =LayoutDirection.Vertical
        LayoutMode: =LayoutMode.Auto
        RadiusBottomLeft: =4
        RadiusBottomRight: =4
        RadiusTopLeft: =4
        RadiusTopRight: =4
        Width: =Parent.Width
        ZIndex: =1

        InventoryBorder As groupContainer.verticalAutoLayoutContainer:
            Fill: =gblAppColors.pantone.rgba
            FillPortions: =0
            Height: =10
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMinHeight: =112
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            Width: =Parent.Width
            ZIndex: =1

        InventoryHeader As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.Start
            DropShadow: =DropShadow.Light
            FillPortions: =0
            Height: =lblPatientInventoryCheckList.Height+30
            LayoutAlignItems: =LayoutAlignItems.Center
            LayoutGap: =10
            LayoutJustifyContent: =LayoutJustifyContent.Center
            LayoutMinHeight: =112
            LayoutMinWidth: =Parent.Width
            LayoutMode: =LayoutMode.Auto
            Width: =Parent.Width
            ZIndex: =2

            conInventoryHeaderWrapper As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.Light
                Height: =lblPatientInventoryCheckList.Height
                LayoutMinHeight: =50
                LayoutMinWidth: =250
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                ZIndex: =3

                btnBack As button:
                    BorderColor: =App.Theme.Colors.Primary
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =0
                    Color: =
                    DisabledBorderColor: =RGBA(244, 244, 244, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    Fill: =RGBA(0, 0, 0, 0)
                    Font: =App.Theme.Font
                    FontWeight: =FontWeight.Semibold
                    Height: =35
                    HoverBorderColor: =App.Theme.Colors.Darker10
                    HoverColor: =RGBA(0, 0, 0, 1)
                    HoverFill: =ColorFade(Self.Fill, -20%)
                    OnSelect: =Navigate(HomeScreen,ScreenTransition.Fade)
                    PressedBorderColor: =App.Theme.Colors.Darker40
                    PressedColor: =Self.Color
                    PressedFill: =App.Theme.Colors.Darker40
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =15
                    Text: ="Back"
                    Width: =75
                    X: =10
                    Y: =(Parent.Height-Self.Height)/2
                    ZIndex: =1

                lblPatientInventoryCheckList As label:
                    Align: =Align.Center
                    AutoHeight: =true
                    BorderColor: =App.Theme.Colors.Darker40
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Font: =App.Theme.Font
                    FontWeight: =FontWeight.Bold
                    Height: =70
                    Size: =gblAppFonts.extralarge
                    Text: ="Patient Inventory Checklist"
                    Width: |
                        =Parent.Width-btnBack.Width-40
                    X: =(Parent.Width-Self.Width)/2
                    Y: =(Parent.Height-Self.Height)/2
                    ZIndex: =2

        InventoryMainContainer As groupContainer.verticalAutoLayoutContainer:
            BorderStyle: =BorderStyle.None
            Height: =225
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMinHeight: =112
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            ZIndex: =3

            PatientInfoHeader As groupContainer.verticalAutoLayoutContainer:
                Fill: =gblAppColors.pantoneWarmGray1.rgba
                FillPortions: =0
                Height: =lblPatientInfo.Height
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutJustifyContent: =LayoutJustifyContent.Center
                LayoutMinHeight: =112
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                ZIndex: =1

                lblPatientInfo As label:
                    AutoHeight: =true
                    BorderColor: =App.Theme.Colors.Darker40
                    Color: =RGBA(0, 0, 0, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Font: =App.Theme.Font
                    FontWeight: =FontWeight.Bold
                    Height: =70
                    LayoutMinHeight: =70
                    LayoutMinWidth: =560
                    PaddingBottom: =10
                    PaddingLeft: =25
                    PaddingRight: =25
                    PaddingTop: =10
                    Size: =gblAppFonts.normal
                    Text: ="Patient Information"
                    Width: =Parent.Width-chkDischarge.Width
                    ZIndex: =1

                chkDischarge As checkbox:
                    BorderColor: =App.Theme.Colors.Darker40
                    CheckboxBorderColor: =App.Theme.Colors.Primary
                    CheckboxSize: =25
                    CheckmarkFill: =App.Theme.Colors.Primary
                    Color: =RGBA(0, 0, 0, 1)
                    Default: =selectedItem.IsDischarged
                    Font: =App.Theme.Font
                    Height: =25
                    HoverColor: =App.Theme.Colors.Darker30
                    LayoutMinHeight: =85
                    LayoutMinWidth: =280
                    Reset: =varCheckBox
                    Size: =11
                    Text: ="Discharge Patient"
                    Width: =170
                    ZIndex: =2

            PatientInfoContainer As groupContainer.verticalAutoLayoutContainer:
                DropShadow: =DropShadow.Light
                FillPortions: =0
                Height: =conExtraInfoWrapper.LayoutMinHeight+conPatientName.Height+conPatientAddress.Height+10
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =112
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                ZIndex: =2

                conPatientName As groupContainer.manualLayoutContainer:
                    BorderStyle: =BorderStyle.None
                    FillPortions: =0
                    Height: =lblPatientName.Height
                    LayoutMinHeight: =112
                    LayoutMinWidth: =250
                    ZIndex: =1

                    lblPatientName As label:
                        AutoHeight: =true
                        BorderColor: =App.Theme.Colors.Darker40
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        FontWeight: =FontWeight.Semibold
                        Height: =70
                        PaddingBottom: =10
                        PaddingLeft: =25
                        PaddingRight: =25
                        PaddingTop: =10
                        Size: =gblAppFonts.medium
                        Text: =selectedItem.Title
                        Width: =Parent.Width
                        X: |
                            =0
                        Y: |
                            =0
                        ZIndex: =1

                conPatientAddress As groupContainer.manualLayoutContainer:
                    BorderStyle: =BorderStyle.None
                    FillPortions: =0
                    Height: =lblPatientAddrs.Height
                    LayoutMinHeight: =112
                    LayoutMinWidth: =250
                    Visible: =If(IsBlank(lblPatientAddress.Text),false,true)
                    ZIndex: =2

                    lblPatientAddrs As label:
                        AutoHeight: =true
                        BorderColor: =App.Theme.Colors.Darker40
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        Height: =70
                        PaddingLeft: =25
                        PaddingRight: =25
                        PaddingTop: =0
                        Size: =gblAppFonts.normal
                        Text: =selectedItem.ShippingAddressLine1 & ", " & selectedItem.ShippingCity & ", " & selectedItem.ShippingState & ", " & selectedItem.ShippingPostalCode
                        Visible: =If(IsBlank(Self.Text),false,true)
                        Width: =Parent.Width
                        X: |
                            =0
                        Y: |
                            =0
                        ZIndex: =1

                conExtraInfoWrapper As groupContainer.horizontalAutoLayoutContainer:
                    Height: |-
                        =Max(
                            conHospitalWrapper.Height + conSuppliesWrapper.Height,
                            conAdmission.Height + conLastInventory.Height
                        )
                    LayoutMinHeight: |-
                        =Max(
                            conHospitalWrapper.Height + conSuppliesWrapper.Height,
                            conAdmission.Height + conLastInventory.Height
                        )
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    ZIndex: =3

                    conExtraOne As groupContainer.verticalAutoLayoutContainer:
                        Height: =conHospitalWrapper.Height+conSuppliesWrapper.Height
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =conHospitalWrapper.Height+conSuppliesWrapper.Height
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        ZIndex: =1

                        conHospitalWrapper As groupContainer.manualLayoutContainer:
                            FillPortions: =0
                            Height: =lblPatientHospital.Height
                            LayoutMinHeight: =112
                            LayoutMinWidth: =250
                            ZIndex: =1

                            lblPatientHospital As label:
                                AutoHeight: =true
                                BorderColor: =App.Theme.Colors.Darker40
                                Color: =RGBA(0, 0, 0, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =App.Theme.Font
                                Height: =70
                                PaddingLeft: =25
                                Size: =gblAppFonts.normal
                                Text: |-
                                    ="Hospital : Yale"
                                Width: =320
                                Y: |
                                    =0
                                ZIndex: =1

                        conSuppliesWrapper As groupContainer.manualLayoutContainer:
                            FillPortions: =0
                            Height: =lblSupplies.Height
                            LayoutMinHeight: =112
                            LayoutMinWidth: =250
                            ZIndex: =2

                            lblSupplies As label:
                                AutoHeight: =true
                                BorderColor: =App.Theme.Colors.Darker40
                                Color: =RGBA(0, 0, 0, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =App.Theme.Font
                                Height: =70
                                PaddingLeft: =25
                                Size: =gblAppFonts.normal
                                Text: |-
                                    ="Supplies Remaining : 100%"
                                Width: =320
                                Y: |
                                    =0
                                ZIndex: =1

                    conExtraTwo As groupContainer.verticalAutoLayoutContainer:
                        BorderStyle: =BorderStyle.None
                        Height: =conAdmission.Height+conLastInventory.Height
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =conAdmission.Height+conLastInventory.Height
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        ZIndex: =2

                        conAdmission As groupContainer.manualLayoutContainer:
                            FillPortions: =0
                            Height: =lblAdmission.Height
                            LayoutMinHeight: =112
                            LayoutMinWidth: =250
                            ZIndex: =2

                            lblAdmission As label:
                                AutoHeight: =true
                                BorderColor: =App.Theme.Colors.Darker40
                                Color: =RGBA(0, 0, 0, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =App.Theme.Font
                                Height: =70
                                PaddingLeft: =25
                                Size: =gblAppFonts.normal
                                Text: |-
                                    ="Admission Date : " & selectedItem.AdmissionDate
                                Width: =320
                                Y: |
                                    =0
                                ZIndex: =1

                        conLastInventory As groupContainer.manualLayoutContainer:
                            FillPortions: =0
                            Height: =lblLastInventory.Height
                            LayoutMinHeight: =112
                            LayoutMinWidth: =250
                            ZIndex: =3

                            lblLastInventory As label:
                                AutoHeight: =true
                                BorderColor: =App.Theme.Colors.Darker40
                                Color: =RGBA(0, 0, 0, 1)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                Font: =App.Theme.Font
                                Height: =70
                                PaddingLeft: =25
                                Size: =gblAppFonts.normal
                                Text: |-
                                    =If(IsBlank(selectedItem.LastCompletedDate),"Last Inventory Count : N/A","Last Inventory Count :"& selectedItem.LastCompletedDate)  
                                Width: =320
                                Y: |
                                    =0
                                ZIndex: =1

            "galTabs_1 As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver5.0'":
                BorderColor: =RGBA(215, 58, 60, 1)
                DelayItemLoading: =true
                FillPortions: =0
                Height: |+
                    =42
                    
                Items: =varCurrentInventoryTab
                Layout: =Layout.Vertical
                LayoutMinHeight: =50
                LayoutMinWidth: =320
                TemplatePadding: =1
                TemplateSize: =40
                Width: =Parent.Width
                WrapCount: =CountRows(galTabs_1.AllItems)
                X: |
                    =0
                ZIndex: =3

                btnTab_1 As button:
                    BorderColor: =App.Theme.Colors.Primary
                    BorderThickness: =0
                    Color: |
                        =If(ThisItem.id=varCurrentSelectedInventoryTab,RGBA(255, 255, 255, 1),gblAppColors.pantone.rgba)
                    DisabledBorderColor: =RGBA(244, 244, 244, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    Fill: |-
                        =If(ThisItem.id=varCurrentSelectedInventoryTab,gblAppColors.pantone.rgba,ColorValue("#f2f2f2"))
                    Font: =App.Theme.Font
                    FontWeight: =FontWeight.Bold
                    HoverBorderColor: =App.Theme.Colors.Darker10
                    HoverColor: =RGBA(255, 255, 255, 1)
                    HoverFill: =ColorFade(Self.Fill, -20%)
                    OnSelect: =Set(varCurrentSelectedInventoryTab,ThisItem.id)
                    PressedBorderColor: =App.Theme.Colors.Darker40
                    PressedColor: =Self.Color
                    PressedFill: =App.Theme.Colors.Darker40
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =gblAppFonts.normal
                    Text: =ThisItem.name
                    Width: =Parent.TemplateWidth
                    ZIndex: =4

            conSuppliesList As groupContainer.verticalAutoLayoutContainer:
                Height: =Parent.Height
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =112
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                Visible: =If(varCurrentSelectedInventoryTab=1,true,false)
                ZIndex: =4

                SearchWrapperContainer_1 As groupContainer.manualLayoutContainer:
                    FillPortions: =0
                    Height: =SearchInput_1.Height
                    LayoutMinHeight: =55
                    LayoutMinWidth: =250
                    Width: =Parent.Width
                    ZIndex: =1

                    SearchInput_1 As text:
                        BorderColor: =RGBA(202, 202, 202, 1)
                        Clear: =true
                        Color: =RGBA(163, 163, 163, 1)
                        Default: =""
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =4
                        Font: =App.Theme.Font
                        Height: =50
                        HintText: ="Search Supplies"
                        HoverBorderColor: =App.Theme.Colors.Darker40
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =App.Theme.Colors.Lighter70
                        PaddingLeft: =55
                        Width: =Parent.Width
                        X: =(Parent.Width-Self.Width)/2
                        ZIndex: =1

                    searchIcon_1 As image:
                        BorderColor: =App.Theme.Colors.Darker40
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        Height: =30
                        Image: ='search (1)'
                        Width: =40
                        X: =14
                        Y: =10
                        ZIndex: =2

                galSuppliesList As gallery.variableTemplateHeightGallery:
                    BorderColor: =App.Theme.Colors.Darker40
                    DelayItemLoading: =true
                    Height: =Parent.Height
                    Items: =Filter(PatientItems,StartsWith(ItemDescription, SearchInput_1.Text), Title=selectedItem.Title && VisitDate=todayDate)
                    Layout: =Layout.Vertical
                    LayoutMinHeight: =Parent.Height - SearchInput_1.Height
                    LayoutMinWidth: =320
                    LoadingSpinner: =LoadingSpinner.Data
                    TemplatePadding: =0
                    TemplateSize: =Max(galListItemImageContainer.Height,galItelListContentWrapper.Height,galItemListActionButtonsWrapper.Height,150)
                    Visible: =If(Self.AllItemsCount>0,true,false)
                    Width: =Parent.Width
                    ZIndex: =2

                    galListItemContainer As groupContainer.horizontalAutoLayoutContainer:
                        DropShadow: =DropShadow.Light
                        Height: =Max(galListItemImageContainer.Height,galItelListContentWrapper.LayoutMinHeight,galItemListActionButtonsWrapper.LayoutMinHeight)
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutMode: =LayoutMode.Auto
                        RadiusBottomLeft: =4
                        RadiusBottomRight: =4
                        RadiusTopLeft: =4
                        RadiusTopRight: =4
                        Width: =Parent.Width
                        ZIndex: =1

                        galListItemImageContainer As groupContainer.verticalAutoLayoutContainer:
                            AlignInContainer: =AlignInContainer.SetByContainer
                            FillPortions: =0
                            Height: =itmImage.Height+30
                            LayoutAlignItems: =LayoutAlignItems.Center
                            LayoutDirection: =LayoutDirection.Vertical
                            LayoutJustifyContent: =LayoutJustifyContent.Center
                            LayoutMinHeight: =112
                            LayoutMinWidth: =250
                            LayoutMode: =LayoutMode.Auto
                            Width: =100
                            ZIndex: =1

                            itmImage As image:
                                BorderColor: =App.Theme.Colors.Darker40
                                DisabledBorderColor: =RGBA(166, 166, 166, 1)
                                DisabledFill: =RGBA(244, 244, 244, 1)
                                Height: =75
                                Image: |+
                                    =//SampleImage
                                    //Substitute(gblImagePath&ThisItem.KitName&" Photos/"&ThisItem.ItemNumber&"_thumbnail.jpg"," ","%20")
                                    If(
                                        IsBlank(
                                            LookUp(
                                                TemplateItemImage,
                                                Title = ThisItem.ItemNumber
                                            ).Image
                                        ),
                                        SampleImage,
                                        LookUp(
                                                TemplateItemImage,
                                                Title = ThisItem.ItemNumber
                                            ).Image
                                    )
                                    
                                     
                                    
                                    
                                LayoutMinHeight: =320
                                LayoutMinWidth: =320
                                OnSelect: |-
                                    = Set(varSelectedItem,ThisItem);
                                     Set(varSelectedItemImage,itmImage.Image);
                                Width: =75
                                ZIndex: =1

                        galItelListContentWrapper As groupContainer.verticalAutoLayoutContainer:
                            AlignInContainer: =AlignInContainer.SetByContainer
                            DropShadow: =DropShadow.Light
                            Height: |
                                =conProductNameWrapper.Height+conProductBadgeWrapper.Height+10
                            LayoutDirection: =LayoutDirection.Vertical
                            LayoutMinHeight: |
                                =conProductNameWrapper.Height+conProductBadgeWrapper.Height+10
                            LayoutMinWidth: =250
                            LayoutMode: =LayoutMode.Auto
                            RadiusBottomLeft: =4
                            RadiusBottomRight: =4
                            RadiusTopLeft: =4
                            RadiusTopRight: =4
                            ZIndex: =2

                            conProductNameWrapper As groupContainer.manualLayoutContainer:
                                FillPortions: =0
                                Height: =lblLitemName.Height
                                LayoutMinHeight: =112
                                LayoutMinWidth: =250
                                ZIndex: =1

                                lblLitemName As label:
                                    AutoHeight: =true
                                    BorderColor: =App.Theme.Colors.Darker40
                                    Color: =RGBA(0, 0, 0, 1)
                                    DisabledColor: =RGBA(166, 166, 166, 1)
                                    Font: =App.Theme.Font
                                    FontWeight: =FontWeight.Bold
                                    Height: =70
                                    PaddingBottom: =10
                                    PaddingLeft: =25
                                    PaddingRight: =25
                                    PaddingTop: =20
                                    Size: =gblAppFonts.medium
                                    Text: =Trim(ThisItem.ItemDescription)
                                    Width: =390
                                    Y: |
                                        =(Parent.Height-Self.Height)/2
                                    ZIndex: =1

                            conProductBadgeWrapper As groupContainer.manualLayoutContainer:
                                ContentLanguage: =Parent.Width
                                FillPortions: =0
                                Height: =lblItemKitName.Height
                                LayoutMinHeight: =112
                                LayoutMinWidth: =0
                                PaddingBottom: =20
                                PaddingLeft: =24
                                PaddingRight: =5
                                Width: |
                                    =200
                                ZIndex: =3

                                lblItemKitName As label:
                                    Align: =Align.Center
                                    AutoHeight: =true
                                    BorderColor: =App.Theme.Colors.Darker40
                                    Color: =RGBA(0, 0, 0, 1)
                                    DisabledColor: =RGBA(166, 166, 166, 1)
                                    Font: =App.Theme.Font
                                    Height: =lblItemKitName.AutoHeight
                                    Size: =10
                                    Text: =ThisItem.KitName
                                    Width: |
                                        =250
                                    X: =25
                                    ZIndex: =3

                        galItemListActionButtonsWrapper As groupContainer.verticalAutoLayoutContainer:
                            AlignInContainer: =AlignInContainer.SetByContainer
                            FillPortions: =0
                            Height: =conIconWrapper.Height+Container4.Height
                            LayoutDirection: =LayoutDirection.Vertical
                            LayoutMinHeight: =0
                            LayoutMinWidth: =250
                            LayoutMode: =LayoutMode.Auto
                            Width: =150
                            ZIndex: =3

                            conIconWrapper As groupContainer.horizontalAutoLayoutContainer:
                                FillPortions: =0
                                Height: =45
                                LayoutAlignItems: =LayoutAlignItems.Center
                                LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                                LayoutMinHeight: =50
                                LayoutMinWidth: =70
                                LayoutMode: =LayoutMode.Auto
                                PaddingLeft: =10
                                PaddingRight: =10
                                ZIndex: =1

                                Container3 As groupContainer.manualLayoutContainer:
                                    AlignInContainer: =AlignInContainer.SetByContainer
                                    FillPortions: =0
                                    Height: =30
                                    LayoutMinHeight: =0
                                    LayoutMinWidth: =250
                                    Width: =30
                                    ZIndex: =1

                                    Image2 As image:
                                        BorderColor: =App.Theme.Colors.Darker40
                                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                                        DisabledFill: =RGBA(244, 244, 244, 1)
                                        Height: =30
                                        Image: |-
                                            ="data:image/svg+xml;utf8, "&EncodeUrl("
                                            <svg xmlns='http://www.w3.org/2000/svg' width='1em' height='1em' viewBox='0 0 1024 1024'><path fill='#7a7a7a' d='M352 480h320a32 32 0 1 1 0 64H352a32 32 0 0 1 0-64'/><path fill='#7a7a7a' d='M512 896a384 384 0 1 0 0-768a384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896a448 448 0 0 1 0 896'/></svg>
                                            ")
                                        Width: =30
                                        ZIndex: =1

                                    Button2 As button:
                                        BorderColor: =App.Theme.Colors.Primary
                                        BorderThickness: =0
                                        DisabledBorderColor: =RGBA(244, 244, 244, 1)
                                        DisabledColor: =RGBA(166, 166, 166, 1)
                                        DisabledFill: =RGBA(244, 244, 244, 1)
                                        Fill: =RGBA(0, 0, 0, 0)
                                        Font: =App.Theme.Font
                                        FontWeight: =FontWeight.Semibold
                                        Height: =30
                                        HoverBorderColor: =App.Theme.Colors.Darker10
                                        HoverColor: =RGBA(255, 255, 255, 1)
                                        HoverFill: =ColorFade(Self.Fill, -20%)
                                        OnSelect: |
                                            =Patch(PatientItems,LookUp(PatientItems,ID=ThisItem.ID),{
                                              Title:ThisItem.Title,
                                              PrevQTY:LookUp(
                                                        previousPatientItems,
                                                        ItemDescription = ThisItem.ItemDescription
                                                    ).QTY,
                                              QTY:If(Value(lblQty.Text)<=0,0,Value(lblQty.Text)-1),
                                              KitCode:ThisItem.KitCode,
                                              ItemDescription:ThisItem.ItemDescription,
                                              VisitDate:ThisItem.VisitDate
                                            });
                                        PressedBorderColor: =App.Theme.Colors.Darker40
                                        PressedColor: =Self.Color
                                        PressedFill: =App.Theme.Colors.Darker40
                                        RadiusBottomLeft: =0
                                        RadiusBottomRight: =0
                                        RadiusTopLeft: =0
                                        RadiusTopRight: =0
                                        Size: =0
                                        Text: ="Button"
                                        Width: =30
                                        ZIndex: =2

                                qtyInput As text:
                                    Align: =Align.Center
                                    BorderColor: =App.Theme.Colors.Darker40
                                    Color: =RGBA(0, 0, 0, 1)
                                    Default: =ThisItem.QTY
                                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                                    DisabledColor: =RGBA(166, 166, 166, 1)
                                    DisabledFill: =RGBA(244, 244, 244, 1)
                                    FocusedBorderThickness: =4
                                    Font: =App.Theme.Font
                                    FontWeight: =FontWeight.Semibold
                                    Format: =TextFormat.Number
                                    HoverBorderColor: =App.Theme.Colors.Darker40
                                    HoverColor: =RGBA(0, 0, 0, 1)
                                    HoverFill: =App.Theme.Colors.Lighter70
                                    LayoutMinHeight: =70
                                    LayoutMinWidth: =560
                                    OnChange: |
                                        =Patch(
                                            PatientItems,
                                            LookUp(
                                                PatientItems,
                                                ID = ThisItem.ID
                                            ),
                                            {
                                                Title: ThisItem.Title,
                                                PrevQTY: LookUp(
                                                    previousPatientItems,
                                                    ItemDescription = ThisItem.ItemDescription
                                                ).QTY,
                                                QTY: Value(qtyInput.Text),
                                                KitCode: ThisItem.KitCode,
                                                ItemDescription: ThisItem.ItemDescription,
                                                VisitDate: ThisItem.VisitDate
                                            }
                                        );
                                    PaddingBottom: =0
                                    PaddingLeft: =0
                                    PaddingRight: =0
                                    PaddingTop: =0
                                    RadiusBottomLeft: =0
                                    RadiusBottomRight: =0
                                    RadiusTopLeft: =0
                                    RadiusTopRight: =0
                                    Width: =50
                                    ZIndex: =2

                                lblQty As label:
                                    Align: =Align.Center
                                    AutoHeight: =true
                                    BorderColor: =App.Theme.Colors.Darker40
                                    Color: =RGBA(0, 0, 0, 1)
                                    DisabledColor: =RGBA(166, 166, 166, 1)
                                    Font: =App.Theme.Font
                                    FontWeight: =FontWeight.Bold
                                    Height: =70
                                    LayoutMinHeight: =70
                                    LayoutMinWidth: =560
                                    Size: =gblAppFonts.medium
                                    Text: =ThisItem.QTY
                                    Visible: =false
                                    Width: =Parent.Width-Container3.Width-Container3_1.Width-30
                                    ZIndex: =3

                                Container3_1 As groupContainer.manualLayoutContainer:
                                    AlignInContainer: =AlignInContainer.SetByContainer
                                    FillPortions: =0
                                    Height: =30
                                    LayoutMinHeight: =0
                                    LayoutMinWidth: =250
                                    Width: =30
                                    ZIndex: =4

                                    Image1 As image:
                                        BorderColor: =App.Theme.Colors.Darker40
                                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                                        DisabledFill: =RGBA(244, 244, 244, 1)
                                        Height: =30
                                        Image: |-
                                            ="data:image/svg+xml;utf8, "&EncodeUrl("
                                            <svg xmlns='http://www.w3.org/2000/svg' width='1em' height='1em' viewBox='0 0 16 16'><path fill='#7a7a7a' d='M8 15c-3.86 0-7-3.14-7-7s3.14-7 7-7s7 3.14 7 7s-3.14 7-7 7M8 2C4.69 2 2 4.69 2 8s2.69 6 6 6s6-2.69 6-6s-2.69-6-6-6'/><path fill='#7a7a7a' d='M8 11.5c-.28 0-.5-.22-.5-.5V5c0-.28.22-.5.5-.5s.5.22.5.5v6c0 .28-.22.5-.5.5'/><path fill='#7a7a7a' d='M11 8.5H5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h6c.28 0 .5.22.5.5s-.22.5-.5.5'/></svg>
                                            ")
                                        Width: =30
                                        ZIndex: =1

                                    Button2_1 As button:
                                        BorderColor: =App.Theme.Colors.Primary
                                        BorderThickness: =0
                                        DisabledBorderColor: =RGBA(244, 244, 244, 1)
                                        DisabledColor: =RGBA(166, 166, 166, 1)
                                        DisabledFill: =RGBA(244, 244, 244, 1)
                                        Fill: =RGBA(0, 0, 0, 0)
                                        Font: =App.Theme.Font
                                        FontWeight: =FontWeight.Semibold
                                        Height: =30
                                        HoverBorderColor: =App.Theme.Colors.Darker10
                                        HoverColor: =RGBA(255, 255, 255, 1)
                                        HoverFill: =ColorFade(Self.Fill, -20%)
                                        OnSelect: |
                                            =Patch(
                                                PatientItems,
                                                LookUp(
                                                    PatientItems,
                                                    ID = ThisItem.ID
                                                ),
                                                {
                                                    Title: ThisItem.Title,
                                                    PrevQTY: LookUp(
                                                        previousPatientItems,
                                                        ItemDescription = ThisItem.ItemDescription
                                                    ).QTY,
                                                    QTY: Value(lblQty.Text) + 1,
                                                    KitCode: ThisItem.KitCode,
                                                    ItemDescription: ThisItem.ItemDescription,
                                                    VisitDate: ThisItem.VisitDate
                                                }
                                            );
                                        PressedBorderColor: =App.Theme.Colors.Darker40
                                        PressedColor: =Self.Color
                                        PressedFill: =App.Theme.Colors.Darker40
                                        RadiusBottomLeft: =0
                                        RadiusBottomRight: =0
                                        RadiusTopLeft: =0
                                        RadiusTopRight: =0
                                        Size: =0
                                        Text: ="Button"
                                        Width: =30
                                        ZIndex: =2

                            Container4 As groupContainer.manualLayoutContainer:
                                FillPortions: =0
                                Height: =prevQtyLbl.Height
                                LayoutMinHeight: =20
                                LayoutMinWidth: =0
                                Width: =Parent.Width
                                ZIndex: =2

                                prevQtyLbl As label:
                                    Align: =Align.Center
                                    AutoHeight: =true
                                    BorderColor: =App.Theme.Colors.Darker40
                                    Color: =RGBA(0, 0, 0, 1)
                                    DisabledColor: =RGBA(166, 166, 166, 1)
                                    Font: =App.Theme.Font
                                    Height: =20
                                    Size: =gblAppFonts.normal
                                    Text: |-
                                        =If(
                                            IsBlank(
                                                LookUp(
                                                    previousPatientItems,
                                                    ItemDescription = ThisItem.ItemDescription
                                                ).QTY
                                            ),
                                            "Previous Qty : 0",
                                            "Previous Qty : " & LookUp(
                                                previousPatientItems,
                                                ItemDescription = ThisItem.ItemDescription
                                            ).QTY
                                        )
                                    ZIndex: =1

                noSuppliesFound As label:
                    Align: =Align.Center
                    BorderColor: =App.Theme.Colors.Darker40
                    Color: =RGBA(135, 138, 134, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FontWeight: =FontWeight.Bold
                    Height: =Parent.Height
                    LayoutMinHeight: =70
                    LayoutMinWidth: =560
                    Size: =12
                    Text: ="No Supplies items found!"
                    Visible: =If(galSuppliesList.AllItemsCount<=0,true,false)
                    Width: =Parent.Width
                    X: =
                    Y: |
                        =(Parent.Height-Self.Height)/2
                    ZIndex: =3

            conNotesImagesWrapper As groupContainer.verticalAutoLayoutContainer:
                Height: =225
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =112
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                LayoutOverflowY: =LayoutOverflow.Scroll
                Visible: =If(varCurrentSelectedInventoryTab=2,true,false)
                ZIndex: =5

                PreviousInfoWrapper As groupContainer.verticalAutoLayoutContainer:
                    DropShadow: =DropShadow.Light
                    Fill: =gblAppColors.pantoneWarmGray1.rgba
                    FillPortions: =0
                    Height: =lblPreviousNote.Height
                    LayoutAlignItems: =LayoutAlignItems.Center
                    LayoutJustifyContent: =LayoutJustifyContent.Center
                    LayoutMinHeight: =112
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    Visible: =If(varCurrentSelectedInventoryTab=2,true,false)
                    ZIndex: =1

                    lblPreviousNote As label:
                        AutoHeight: =true
                        BorderColor: =App.Theme.Colors.Darker40
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        FontWeight: =FontWeight.Bold
                        Height: =70
                        LayoutMinHeight: =70
                        LayoutMinWidth: =560
                        PaddingBottom: =10
                        PaddingLeft: =25
                        PaddingRight: =25
                        PaddingTop: =10
                        Size: =gblAppFonts.normal
                        Text: ="Previous Notes"
                        Width: =Parent.Width
                        ZIndex: =1

                conPreviousWrapper As groupContainer.manualLayoutContainer:
                    FillPortions: =0
                    Height: =lblPreviousNote.Height+10
                    LayoutMinHeight: =112
                    LayoutMinWidth: =Parent.Width
                    PaddingBottom: =10
                    PaddingTop: =10
                    Width: =Parent.Width
                    ZIndex: =2

                    lblPreviousNotes As label:
                        Align: |
                            =If(IsBlank(previousNote.Note),Align.Center,Align.Left)
                        AutoHeight: =true
                        BorderColor: =App.Theme.Colors.Darker40
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        FontWeight: =FontWeight.Semibold
                        Height: =70
                        PaddingLeft: =25
                        PaddingRight: =25
                        Size: =gblAppFonts.normal
                        Text: =If(IsBlank(previousNote.Note),"There are no previous note available",previousNote.Note)
                        Width: =Parent.Width
                        X: =
                        Y: |
                            =(Parent.Height-Self.Height)/2
                        ZIndex: =1

                PatientNotesWrapper As groupContainer.verticalAutoLayoutContainer:
                    DropShadow: =DropShadow.Light
                    Fill: =gblAppColors.pantoneWarmGray1.rgba
                    FillPortions: =0
                    Height: =lblNotesWrapper.Height
                    LayoutAlignItems: =LayoutAlignItems.Center
                    LayoutJustifyContent: =LayoutJustifyContent.Center
                    LayoutMinHeight: =112
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    ZIndex: =3

                    lblNotesWrapper As label:
                        AutoHeight: =true
                        BorderColor: =App.Theme.Colors.Darker40
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        FontWeight: =FontWeight.Bold
                        Height: =70
                        LayoutMinHeight: =70
                        LayoutMinWidth: =560
                        PaddingBottom: =10
                        PaddingLeft: =25
                        PaddingRight: =25
                        PaddingTop: =10
                        Size: =gblAppFonts.normal
                        Text: ="Notes"
                        Width: =Parent.Width
                        ZIndex: =1

                conNoteHintWrapper As groupContainer.manualLayoutContainer:
                    FillPortions: =0
                    Height: =lblNoteHint.Height+30
                    LayoutMinHeight: =112
                    LayoutMinWidth: =250
                    ZIndex: =4

                    lblNoteHint As label:
                        AutoHeight: =true
                        BorderColor: =App.Theme.Colors.Darker40
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        FontWeight: =FontWeight.Semibold
                        Height: =70
                        Italic: =true
                        PaddingLeft: =25
                        PaddingRight: =25
                        Size: =gblAppFonts.normal
                        Text: ="Leave helpful information for the next technician's supply count"
                        Width: =Parent.Width
                        Y: =(Parent.Height-Self.Height)/2
                        ZIndex: =1

                conTextNoteWrapper As groupContainer.manualLayoutContainer:
                    FillPortions: =0
                    Height: =110
                    LayoutMinHeight: =112
                    LayoutMinWidth: =250
                    ZIndex: =5

                    txtNotes As text:
                        BorderColor: =RGBA(204, 204, 204, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        Default: =If(IsBlank(todayVisitInfo.Note),"",todayVisitInfo.Note)
                        DisabledBorderColor: =RGBA(166, 166, 166, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        DisabledFill: =RGBA(244, 244, 244, 1)
                        FocusedBorderThickness: =4
                        Height: |
                            =100
                        HintText: ="Add Notes"
                        HoverBorderColor: =App.Theme.Colors.Darker40
                        HoverColor: =RGBA(0, 0, 0, 1)
                        HoverFill: =App.Theme.Colors.Lighter70
                        Mode: =TextMode.MultiLine
                        PaddingTop: =10
                        Size: =gblAppFonts.normal
                        Width: =Parent.Width-50
                        X: =(Parent.Width-Self.Width)/2
                        Y: |
                            =0
                        ZIndex: =1

                conNoteHintWrapper_1 As groupContainer.manualLayoutContainer:
                    FillPortions: =0
                    Height: =lblNoteHint_1.Height+20
                    LayoutMinHeight: =112
                    LayoutMinWidth: =250
                    ZIndex: =6

                    lblNoteHint_1 As label:
                        AutoHeight: =true
                        BorderColor: =App.Theme.Colors.Darker40
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        FontWeight: =FontWeight.Semibold
                        Height: =70
                        Italic: =true
                        PaddingLeft: =25
                        PaddingRight: =25
                        Size: =gblAppFonts.normal
                        Text: |-
                            ="Suggestions : Where supplies are located, things about the patient's home etc.."
                        Width: =Parent.Width
                        ZIndex: =1

                ImagesWrapper As groupContainer.verticalAutoLayoutContainer:
                    DropShadow: =DropShadow.Light
                    Fill: =gblAppColors.pantoneWarmGray1.rgba
                    FillPortions: =0
                    Height: =lblNotesWrapper_1.Height
                    LayoutAlignItems: =LayoutAlignItems.Center
                    LayoutJustifyContent: =LayoutJustifyContent.Center
                    LayoutMinHeight: =112
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    ZIndex: =7

                    lblNotesWrapper_1 As label:
                        AutoHeight: =true
                        BorderColor: =App.Theme.Colors.Darker40
                        Color: =RGBA(0, 0, 0, 1)
                        DisabledColor: =RGBA(166, 166, 166, 1)
                        Font: =App.Theme.Font
                        FontWeight: =FontWeight.Bold
                        Height: =70
                        LayoutMinHeight: =70
                        LayoutMinWidth: =560
                        PaddingBottom: =10
                        PaddingLeft: =25
                        PaddingRight: =25
                        PaddingTop: =10
                        Size: =gblAppFonts.normal
                        Text: ="Attached Images"
                        Width: =Parent.Width
                        ZIndex: =1

                conFooterContainer As groupContainer.verticalAutoLayoutContainer:
                    DropShadow: =DropShadow.Light
                    Height: =225
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =112
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    RadiusBottomLeft: =4
                    RadiusBottomRight: =4
                    RadiusTopLeft: =4
                    RadiusTopRight: =4
                    ZIndex: =8

                    Container5 As groupContainer.manualLayoutContainer:
                        Height: =225
                        LayoutMinHeight: =112
                        LayoutMinWidth: =250
                        ZIndex: =1

                        Image3 As image:
                            BorderColor: =App.Theme.Colors.Darker40
                            DisabledBorderColor: =RGBA(166, 166, 166, 1)
                            DisabledFill: =RGBA(244, 244, 244, 1)
                            Height: =170
                            Image: |
                                =If(IsBlank(varCapuredCamera),If(IsBlank(todayVisitInfo.VisitImage),SampleImage,todayVisitInfo.VisitImage),varCapuredCamera)
                            OnSelect: |-
                                =Set(varSupplieImage,Image3.Image);
                                Set(varOpenViewImage,true)
                            Width: =170
                            X: =48
                            Y: =45
                            ZIndex: =1

                    Container5_1 As groupContainer.manualLayoutContainer:
                        FillPortions: =0
                        Height: =90
                        LayoutMinHeight: =112
                        LayoutMinWidth: =250
                        Width: =Parent.Width
                        ZIndex: =2

                        imgAddBtn As button:
                            BorderColor: =
                            BorderStyle: =BorderStyle.Dashed
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledBorderColor: =RGBA(244, 244, 244, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            DisabledFill: =RGBA(0, 0, 0, 1)
                            Fill: =RGBA(255, 255, 255, 1)
                            Font: =App.Theme.Font
                            FontWeight: =FontWeight.Semibold
                            Height: =55
                            HoverBorderColor: =RGBA(0, 0, 0, 1)
                            HoverColor: =RGBA(0, 0, 0, 1)
                            HoverFill: =RGBA(255, 255, 255, 0)
                            OnSelect: =Set(showImageUpload,true)
                            PressedBorderColor: =RGBA(0, 0, 0, 1)
                            PressedColor: =RGBA(0, 0, 0, 1)
                            PressedFill: =RGBA(255, 255, 255, 0)
                            RadiusBottomLeft: =5
                            RadiusBottomRight: =5
                            RadiusTopLeft: =5
                            RadiusTopRight: =5
                            Size: =30
                            Text: ="+"
                            Width: =Parent.Width-50
                            X: =(Parent.Width-Self.Width)/2
                            Y: =(Parent.Height-Self.Height)/2
                            ZIndex: =1

                    Container6 As groupContainer.manualLayoutContainer:
                        FillPortions: =0
                        Height: =100
                        LayoutMinHeight: =90
                        LayoutMinWidth: =250
                        ZIndex: =3

                        Container1 As groupContainer.horizontalAutoLayoutContainer:
                            Height: =100
                            LayoutMode: =LayoutMode.Auto
                            Width: =Parent.Width
                            X: |
                                =0
                            ZIndex: =2

                            Container2 As groupContainer.manualLayoutContainer:
                                Height: =225
                                LayoutMinHeight: =100
                                LayoutMinWidth: =250
                                ZIndex: =1

                                imgAddBtn_3 As button:
                                    BorderColor: =RGBA(215, 58, 60, 1)
                                    Color: =RGBA(215, 58, 60, 1)
                                    DisabledBorderColor: =RGBA(244, 244, 244, 1)
                                    DisabledColor: =RGBA(166, 166, 166, 1)
                                    DisabledFill: =RGBA(244, 244, 244, 1)
                                    Fill: =RGBA(255, 255, 255, 1)
                                    Font: =App.Theme.Font
                                    FontWeight: =FontWeight.Semibold
                                    Height: =55
                                    HoverBorderColor: =RGBA(215, 58, 60, 1)
                                    HoverColor: =RGBA(215, 58, 60, 1)
                                    HoverFill: =RGBA(255, 255, 255, 0)
                                    OnSelect: =Set(varCurrentSelectedInventoryTab,1)
                                    PressedBorderColor: =RGBA(215, 58, 60, 1)
                                    PressedColor: =RGBA(215, 58, 60, 1)
                                    PressedFill: =RGBA(255, 255, 255, 0)
                                    RadiusBottomLeft: =5
                                    RadiusBottomRight: =5
                                    RadiusTopLeft: =5
                                    RadiusTopRight: =5
                                    Size: =15
                                    Text: ="Back"
                                    Width: =Parent.Width-50
                                    X: =(Parent.Width-Self.Width)/2
                                    Y: =(Parent.Height-Self.Height)/2
                                    ZIndex: =1

                            Container2_1 As groupContainer.manualLayoutContainer:
                                Height: =225
                                LayoutMinHeight: =100
                                LayoutMinWidth: =250
                                ZIndex: =2

                                imgAddBtn_1 As button:
                                    BorderColor: =
                                    BorderStyle: =BorderStyle.None
                                    BorderThickness: =0
                                    DisabledBorderColor: =RGBA(244, 244, 244, 1)
                                    DisabledColor: =RGBA(166, 166, 166, 1)
                                    DisabledFill: =RGBA(244, 244, 244, 1)
                                    Fill: =gblAppColors.pantone.rgba
                                    Font: =App.Theme.Font
                                    FontWeight: =FontWeight.Semibold
                                    Height: =55
                                    HoverBorderColor: =gblAppColors.pantone.rgba
                                    HoverColor: =RGBA(255, 255, 255, 1)
                                    HoverFill: =gblAppColors.pantone.rgba
                                    OnSelect: |
                                        =If(
                                            !IsBlank(
                                                LookUp(
                                                    PatientVisits,
                                                    Title = selectedItem.Title && VisitDate = todayDate
                                                )
                                            ),
                                            Patch(
                                                PatientVisits,
                                                LookUp(
                                                    PatientVisits,
                                                    Title = selectedItem.Title && VisitDate = todayDate
                                                ),
                                                {
                                                    Title: selectedItem.Title,
                                                    Note: txtNotes.Text,
                                                    VisitDate: todayDate,
                                                    VisitImage: Image3.Image
                                                }
                                            );
                                            If(
                                             // check if there were any errors when the PatientVisits was submitted
                                                !IsEmpty(Errors(PatientVisits)),
                                             // if true, show any error message
                                                Notify(
                                                    "Patient visit note submission failed",
                                                    NotificationType.Error
                                                ),
                                             // else, go to update patients list collection
                                                Patch(
                                                    PatientsList,
                                                    LookUp(
                                                        PatientsList,
                                                        Title = selectedItem.Title
                                                    ),
                                                    {
                                                        Title: selectedItem.Title,
                                                        IsDischarged: chkDischarge.Value,
                                                        DischargeDate: todayDate
                                                    }
                                                );
                                                !IsEmpty(Errors(PatientItems)),
                                                Notify(
                                                    "Patient Discharge info submission failed",
                                                    NotificationType.Error
                                                ),
                                                Navigate(SuccessScreen,ScreenTransition.Fade)
                                            ),
                                            Patch(
                                                PatientVisits,
                                                Defaults(PatientVisits),
                                                {
                                                    Title: selectedItem.Title,
                                                    Note: txtNotes.Text,
                                                    VisitDate: todayDate,
                                                    VisitImage: Image3.Image
                                                }
                                            );
                                            If(
                                             // check if there were any errors when the PatientVisits was submitted
                                                !IsEmpty(Errors(PatientVisits)),
                                             // if true, show any error message
                                                Notify(
                                                    "Patient visit note submission failed",
                                                    NotificationType.Error
                                                ),
                                             // else, go to update patients list collection
                                                Patch(
                                                    PatientsList,
                                                    LookUp(
                                                        PatientsList,
                                                        Title = selectedItem.Title
                                                    ),
                                                    {
                                                        Title: selectedItem.Title,
                                                        IsDischarged: chkDischarge.Value,
                                                        DischargeDate: todayDate
                                                    }
                                                );
                                                !IsEmpty(Errors(PatientItems)),
                                                Notify(
                                                    "Patient Discharge info submission failed",
                                                    NotificationType.Error
                                                ),
                                                Navigate(SuccessScreen,ScreenTransition.Fade)
                                            )
                                        );
                                    PressedBorderColor: =gblAppColors.pantone.rgba
                                    PressedColor: =gblAppColors.pantone.rgba
                                    PressedFill: =RGBA(255, 255, 255, 0)
                                    RadiusBottomLeft: =5
                                    RadiusBottomRight: =5
                                    RadiusTopLeft: =5
                                    RadiusTopRight: =5
                                    Size: =15
                                    Text: ="Submit"
                                    Width: =Parent.Width-50
                                    X: =(Parent.Width-Self.Width)/2
                                    Y: =(Parent.Height-Self.Height)/2
                                    ZIndex: =1

            Container6_1 As groupContainer.manualLayoutContainer:
                FillPortions: =0
                Height: =100
                LayoutMinHeight: =90
                LayoutMinWidth: =250
                Visible: =If(varCurrentSelectedInventoryTab=1,true,false)
                ZIndex: =6

                imgAddBtn_2 As button:
                    BorderColor: =
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =0
                    DisabledBorderColor: =RGBA(244, 244, 244, 1)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    Fill: =gblAppColors.pantone.rgba
                    Font: =App.Theme.Font
                    FontWeight: =FontWeight.Semibold
                    Height: =55
                    HoverBorderColor: =gblAppColors.pantone.rgba
                    HoverColor: =RGBA(255, 255, 255, 1)
                    HoverFill: =gblAppColors.pantone.rgba
                    OnSelect: =Set(varCurrentSelectedInventoryTab,2);
                    PressedBorderColor: =gblAppColors.pantone.rgba
                    PressedColor: =RGBA(255, 255, 255, 1)
                    PressedFill: =gblAppColors.pantone.rgba
                    RadiusBottomLeft: =5
                    RadiusBottomRight: =5
                    RadiusTopLeft: =5
                    RadiusTopRight: =5
                    Size: =15
                    Text: ="Continue"
                    Width: =Parent.Width-50
                    X: =(Parent.Width-Self.Width)/2
                    Y: =(Parent.Height-Self.Height)/2
                    ZIndex: =1

    conModel As groupContainer.verticalAutoLayoutContainer:
        DropShadow: =DropShadow.Light
        Fill: =RGBA(0, 0, 0, 0.5)
        Height: =Parent.Height
        LayoutAlignItems: =LayoutAlignItems.Center
        LayoutDirection: =LayoutDirection.Vertical
        LayoutJustifyContent: =LayoutJustifyContent.Center
        LayoutMode: =LayoutMode.Auto
        RadiusBottomLeft: =4
        RadiusBottomRight: =4
        RadiusTopLeft: =4
        RadiusTopRight: =4
        Visible: =showImageUpload
        Width: =Parent.Width
        ZIndex: =3

        model As groupContainer.manualLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            DropShadow: =DropShadow.Light
            Fill: =Color.White
            FillPortions: =0
            Height: =400
            LayoutMinHeight: =112
            LayoutMinWidth: =250
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            Width: =400
            ZIndex: =1

            conWrapper As groupContainer.verticalAutoLayoutContainer:
                DropShadow: =DropShadow.Light
                Height: =Parent.Height
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Width: =Parent.Width
                Y: |
                    =0
                ZIndex: =1

                Container10 As groupContainer.manualLayoutContainer:
                    Height: =225
                    LayoutMinHeight: =112
                    LayoutMinWidth: =250
                    ZIndex: =1

                    AddMediaWithImage2 As group:
                        Height: =5
                        Width: =5
                        X: =40
                        Y: =40
                        ZIndex: =1

                        UploadedImage2 As image:
                            BorderColor: =App.Theme.Colors.Darker40
                            DisabledBorderColor: =RGBA(166, 166, 166, 1)
                            DisabledFill: =RGBA(244, 244, 244, 1)
                            Height: =Parent.Height
                            Image: =If(IsBlank(AddMediaButton2.Media), SampleImage, AddMediaButton2.Media)
                            Width: =400
                            X: =AddMediaButton2.X
                            Y: =AddMediaButton2.Y
                            ZIndex: =2

                        AddMediaButton2 As addMedia:
                            BorderColor: =App.Theme.Colors.Darker40
                            Color: =RGBA(0, 0, 0, 1)
                            Fill: =RGBA(255, 255, 255, 1)
                            Height: =Parent.Height
                            Size: =15
                            Width: =400
                            ZIndex: =3

                Container12 As groupContainer.verticalAutoLayoutContainer:
                    BorderStyle: =BorderStyle.None
                    FillPortions: =0
                    Height: =85
                    LayoutMinHeight: =70
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    Width: =Parent.Width
                    ZIndex: =2

                    Container13 As groupContainer.manualLayoutContainer:
                        Height: =225
                        LayoutMinHeight: =85
                        LayoutMinWidth: =200
                        X: =
                        ZIndex: =1

                        Button1 As button:
                            BorderColor: =App.Theme.Colors.Primary
                            BorderStyle: =BorderStyle.None
                            Color: =RGBA(0, 0, 0, 1)
                            DisabledBorderColor: =RGBA(244, 244, 244, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            DisabledFill: =RGBA(244, 244, 244, 1)
                            Fill: =RGBA(235, 235, 235, 1)
                            Font: =App.Theme.Font
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height-40
                            HoverBorderColor: =App.Theme.Colors.Darker10
                            HoverColor: =RGBA(255, 255, 255, 1)
                            HoverFill: =App.Theme.Colors.Darker10
                            OnSelect: =Set(showImageUpload,false)
                            PressedBorderColor: =App.Theme.Colors.Darker40
                            PressedColor: =Self.Color
                            PressedFill: =App.Theme.Colors.Darker40
                            RadiusBottomLeft: =5
                            RadiusBottomRight: =5
                            RadiusTopLeft: =5
                            RadiusTopRight: =5
                            Size: =15
                            Text: ="Cancel"
                            Width: =Parent.Width-50
                            X: =(Parent.Width-Self.Width)/2
                            Y: =(Parent.Height-Self.Height)/2
                            ZIndex: =2

                    Container13_1 As groupContainer.manualLayoutContainer:
                        Height: =225
                        LayoutMinHeight: =85
                        LayoutMinWidth: =200
                        ZIndex: =2

                        Button1_1 As button:
                            BorderColor: =App.Theme.Colors.Primary
                            BorderStyle: =BorderStyle.None
                            BorderThickness: =0
                            Color: =Color.White
                            DisabledBorderColor: =RGBA(244, 244, 244, 1)
                            DisabledColor: =RGBA(166, 166, 166, 1)
                            DisabledFill: =RGBA(244, 244, 244, 1)
                            Fill: =gblAppColors.pantone.rgba
                            Font: =App.Theme.Font
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.Height-40
                            HoverBorderColor: =App.Theme.Colors.Darker10
                            HoverColor: =RGBA(255, 255, 255, 1)
                            HoverFill: =App.Theme.Colors.Darker10
                            OnSelect: |-
                                =Set(showImageUpload,false);
                                Set(varCapuredCamera,UploadedImage2.Image);
                            PressedBorderColor: =App.Theme.Colors.Darker40
                            PressedColor: =Self.Color
                            PressedFill: =App.Theme.Colors.Darker40
                            RadiusBottomLeft: =5
                            RadiusBottomRight: =5
                            RadiusTopLeft: =5
                            RadiusTopRight: =5
                            Size: =15
                            Text: ="Ok"
                            Width: =Parent.Width-50
                            X: =(Parent.Width-Self.Width)/2
                            Y: =(Parent.Height-Self.Height)/2
                            ZIndex: =1

    conImageView As groupContainer.verticalAutoLayoutContainer:
        DropShadow: =DropShadow.Light
        Fill: =RGBA(0, 0, 0, 0.2)
        Height: =Parent.Height
        LayoutAlignItems: =LayoutAlignItems.Center
        LayoutDirection: =LayoutDirection.Vertical
        LayoutJustifyContent: =LayoutJustifyContent.Center
        LayoutMode: =LayoutMode.Auto
        RadiusBottomLeft: =4
        RadiusBottomRight: =4
        RadiusTopLeft: =4
        RadiusTopRight: =4
        Visible: =varOpenViewImage
        Width: =Parent.Width
        ZIndex: =4

        Container17 As groupContainer.horizontalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.Center
            DropShadow: =DropShadow.Light
            Fill: =RGBA(255, 255, 255, 1)
            FillPortions: =0
            Height: =50
            LayoutAlignItems: =LayoutAlignItems.Center
            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
            LayoutMinHeight: =112
            LayoutMinWidth: |
                =Parent.Width-100
            LayoutMode: =LayoutMode.Auto
            Width: |
                =Parent.Width-100
            ZIndex: =1

            Label1 As label:
                AutoHeight: =true
                BorderColor: =App.Theme.Colors.Darker40
                Color: =RGBA(0, 0, 0, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                Font: =App.Theme.Font
                Height: =70
                LayoutMinHeight: =70
                LayoutMinWidth: =560
                PaddingLeft: =10
                Text: ="Captured Picture"
                Width: =Parent.Width-Icon2.Width
                ZIndex: =1

            Icon2 As icon.Cancel:
                BorderColor: =App.Theme.Colors.Darker40
                Color: =App.Theme.Colors.Darker30
                DisabledBorderColor: =RGBA(166, 166, 166, 1)
                DisabledColor: =RGBA(244, 244, 244, 1)
                Height: =40
                Icon: =Icon.Cancel
                OnSelect: =Set(varOpenViewImage,false)
                PaddingRight: =10
                Width: =40
                ZIndex: =2

        Container16 As groupContainer.manualLayoutContainer:
            AlignInContainer: =AlignInContainer.Center
            DropShadow: =DropShadow.Light
            Fill: =RGBA(255, 255, 255, 1)
            FillPortions: =0
            Height: |
                =400
            LayoutMinHeight: =112
            LayoutMinWidth: =250
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            Width: |
                =Parent.Width-100
            ZIndex: =2

            Image7 As image:
                BorderColor: =App.Theme.Colors.Darker40
                DisabledBorderColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(244, 244, 244, 1)
                Height: |
                    =Parent.Height-20
                Image: =varSupplieImage
                ImagePosition: =ImagePosition.Fill
                Width: =Parent.Width-20
                X: =(Parent.Width-Self.Width)/2
                Y: =(Parent.Height-Self.Height)/2
                ZIndex: =1

    conItemImageView As groupContainer.verticalAutoLayoutContainer:
        DropShadow: =DropShadow.Light
        Fill: =RGBA(0, 0, 0, 0.2)
        Height: =Parent.Height
        LayoutAlignItems: =LayoutAlignItems.Center
        LayoutDirection: =LayoutDirection.Vertical
        LayoutJustifyContent: =LayoutJustifyContent.Center
        LayoutMode: =LayoutMode.Auto
        RadiusBottomLeft: =4
        RadiusBottomRight: =4
        RadiusTopLeft: =4
        RadiusTopRight: =4
        Visible: =If(IsBlank(varSelectedItemImage),false,true)
        Width: =Parent.Width
        ZIndex: =5

        Container17_2 As groupContainer.horizontalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            DropShadow: =DropShadow.Light
            Fill: =RGBA(255, 255, 255, 1)
            FillPortions: =0
            Height: =50
            LayoutAlignItems: =LayoutAlignItems.Center
            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
            LayoutMinHeight: =112
            LayoutMinWidth: |
                =Parent.Width-100
            LayoutMode: =LayoutMode.Auto
            Width: |
                =Parent.Width-100
            ZIndex: =1

            Label1_2 As label:
                AutoHeight: =true
                BorderColor: =App.Theme.Colors.Darker40
                Color: =RGBA(0, 0, 0, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                Font: =App.Theme.Font
                Height: =70
                LayoutMinHeight: =70
                LayoutMinWidth: =560
                PaddingLeft: =10
                Text: =varSelectedItem.ItemDescription
                Width: =Parent.Width-Icon2_2.Width
                ZIndex: =1

            Icon2_2 As icon.Cancel:
                BorderColor: =App.Theme.Colors.Darker40
                Color: =App.Theme.Colors.Darker30
                DisabledBorderColor: =RGBA(166, 166, 166, 1)
                DisabledColor: =RGBA(244, 244, 244, 1)
                Height: =40
                Icon: =Icon.Cancel
                OnSelect: =Set(varSelectedItemImage,Blank());
                PaddingRight: =10
                Width: =40
                ZIndex: =2

        Container16_2 As groupContainer.manualLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            DropShadow: =DropShadow.Light
            Fill: =RGBA(255, 255, 255, 1)
            FillPortions: =0
            Height: |
                =400
            LayoutMinHeight: =112
            LayoutMinWidth: =250
            RadiusBottomLeft: =4
            RadiusBottomRight: =4
            RadiusTopLeft: =4
            RadiusTopRight: =4
            Width: |
                =Parent.Width-100
            ZIndex: =2

            Image7_2 As image:
                BorderColor: =App.Theme.Colors.Darker40
                DisabledBorderColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(244, 244, 244, 1)
                Height: |
                    =Parent.Height-20
                Image: =varSelectedItemImage
                ImagePosition: =ImagePosition.Fill
                Width: =Parent.Width-20
                X: =(Parent.Width-Self.Width)/2
                Y: =(Parent.Height-Self.Height)/2
                ZIndex: =1

